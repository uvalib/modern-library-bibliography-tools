---
layout: page-layout.njk
---

<h1>Modern Library Bibliography</h1>

<div class="years-group">
  {% for year in years %}
  <sl-details class="year" summary="{{ year.year }}">
    <h2><a href="{{ '/years/' | url }}{{ year.year }}.html">{{ year.title }}</a></h2>
    {% if year.generalFirst %}
      {% markdown year.generalFirst %}
    {% endif %}
    <ul>
    {% for bookID, book in year.books %}
      <li><a href="/book/{{ bookID }}.html">{{ bookID }}</a>
      <ul>
        {% for rev in revisions %}
          {% if rev.book == bookID %}
            <li><a href="{{ '/revision/' | url }}{{ rev.id }}.html">{{ rev.id }}</a></li>
          {% endif %}
        {% endfor %}
      </ul>
      </li>
    {% endfor %}
    </ul>
  </sl-details>
  {% endfor %}
</div>

<script>
  const container = document.querySelector('.years-group');

  // Close all other details when one is shown
  container.addEventListener('sl-show', event => {
    [...container.querySelectorAll('sl-details.year')].map(details => (details.open = event.target === details));
  });
</script>

<style>
  .years-group sl-details.year:not(:last-of-type) {
    margin-bottom: var(--sl-spacing-2x-small);
  }
</style>